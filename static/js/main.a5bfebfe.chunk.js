(this["webpackJsonprancid-tomatillos"]=this["webpackJsonprancid-tomatillos"]||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a(18),n=a.n(r),c=(a(24),a(9)),i=a(10),o=a(12),l=a(11),h=(a(25),a(6)),j=a(0),d=function(e){var t=e.id,a=e.poster,s=e.rating,r=e.releaseDate,n=e.title;return Object(j.jsx)(h.b,{to:"/".concat(t),children:Object(j.jsxs)("article",{id:t,className:"movie",children:[Object(j.jsxs)("div",{className:"poster-section",children:[Object(j.jsx)("img",{alt:"".concat(n," movie poster"),className:"poster-image",src:a}),Object(j.jsx)("p",{className:"rating",children:s.toFixed(1)})]}),Object(j.jsxs)("div",{className:"movie-label",children:[Object(j.jsx)("h3",{className:"title",children:n}),Object(j.jsxs)("p",{className:"release-date",children:["Release date: ",r]})]})]})})},u=a(2),m=(a(35),function(e){var t=e.movies;if(!t)return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.a,{to:"/"}),Object(j.jsx)("h1",{children:"Refreshing the main page..."})]});if(!t.length)return Object(j.jsx)("h1",{className:"no-results",children:"There are no movie titles matching your search"});if(t.length){var a=t.map((function(e){return Object(j.jsx)(d,{id:e.id,poster:e.poster_path,backdrop:e.backdrop_path,title:e.title,rating:e.average_rating,releaseDate:e.release_date},e.id)}));return Object(j.jsx)("div",{className:"movie-list",children:a})}}),b=(a(36),function(e){var t=e.type;return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)(h.b,{to:"/",children:Object(j.jsx)("h1",{className:"app-name",children:"rancid tomatillos"})}),"main"===t&&Object(j.jsx)("h2",{className:"page-title",children:"Popular Movies this Month"}),"main"!==t&&Object(j.jsxs)("h2",{className:"page-title",children:['Search results for "',t.searchInput,'"']})]})}),p=(a(37),a(38),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleErrors=function(t){if(t.ok)return t.json();e.setState({error:"Something went wrong, please try again."})},e.state={movie:null,error:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.id,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e)).then((function(e){return e}))).then((function(e){return t.handleErrors(e)})).then((function(e){return t.setState({movie:e.movie})})).catch((function(e){return t.setState({error:"Something went wrong, please try again."})}))}},{key:"render",value:function(){var e=this.state.movie;return!this.state.movie&&this.state.error?Object(j.jsx)("h1",{className:"error-message",children:this.state.error}):this.state.movie?Object(j.jsxs)("article",{className:"movie-expanded",style:{backgroundImage:"url("+e.backdrop_path+")"},children:[Object(j.jsx)(h.b,{to:"/",children:Object(j.jsx)("i",{className:"fas fa-arrow-circle-left fa-3x","aria-label":"Back Button",role:"button"})}),Object(j.jsx)("div",{className:"double-poster-wrapper",children:Object(j.jsxs)("div",{className:"poster-wrapper",children:[Object(j.jsx)("img",{alt:"".concat(e.title," movie poster"),className:"poster",src:e.poster_path}),Object(j.jsx)("p",{className:"average-rating",children:e.average_rating.toFixed(1)})]})}),Object(j.jsxs)("div",{className:"info-section",children:[Object(j.jsxs)("h3",{className:"movie-title",children:[e.title," (",e.release_date.substring(0,4),")"]}),Object(j.jsx)("p",{className:"tagline",children:e.tagline}),Object(j.jsxs)("div",{className:"top-card",children:[Object(j.jsxs)("div",{className:"main-details",children:[Object(j.jsx)("p",{children:e.genres.join("/ ")}),Object(j.jsxs)("p",{children:[e.runtime," minutes"]})]}),Object(j.jsxs)("div",{className:"movie-details-aside",children:[Object(j.jsxs)("p",{children:["Budget: $",e.budget.toLocaleString()]}),Object(j.jsxs)("p",{children:["Revenue: $",e.revenue.toLocaleString()]})]})]}),Object(j.jsx)("p",{className:"overview",children:e.overview})]})]}):Object(j.jsx)("h1",{children:"Loading..."})}}]),a}(s.Component)),v=(a(39),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState({searchInput:t.target.value})},e.state={searchInput:""},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(j.jsxs)("form",{className:"form",children:[Object(j.jsx)("input",{type:"text",placeholder:"Search for a movie title",name:"search",value:this.state.searchInput,onChange:function(t){return e.handleChange(t)}}),Object(j.jsx)(h.b,{to:"/search/".concat(this.state.searchInput),children:Object(j.jsx)("button",{className:"search-button",type:"submit",name:"search",onClick:function(t){e.props.handleSearch(e.state.searchInput),e.setState({searchInput:""})},children:"Search"})})]})}}]),a}(s.Component)),O=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleSearch=function(t){!t&&e.setState({searchedMovies:e.state.movies});var a=e.state.movies.filter((function(e){return e.title.toUpperCase().includes(t.toUpperCase())}));a!==[]&&e.setState({searchedMovies:a})},e.state={movies:[],error:""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies").then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.movies})})).catch((function(t){return e.setState({error:"Something went wrong, please try again later."})}))}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("main",{className:"main",children:[this.state.error&&Object(j.jsx)("h1",{className:"error-message",children:this.state.error}),!this.state.movies.length&&!this.state.error&&Object(j.jsx)("h1",{className:"loading-message",children:"Movies are on the way!"}),Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{path:"/search/:searchInput",render:function(t){var a=t.match.params;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(v,{handleSearch:e.handleSearch}),Object(j.jsx)(b,{type:a}),Object(j.jsx)(m,{movies:e.state.searchedMovies},"SEARCH")]})}}),Object(j.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(v,{handleSearch:e.handleSearch}),Object(j.jsx)(b,{type:"main"}),Object(j.jsx)(m,{movies:e.state.movies},"MAIN")]})}}),Object(j.jsx)(u.b,{exact:!0,path:"/:id",render:function(e){var t=e.match.params.id;return parseInt(t)?Object(j.jsx)(p,{id:parseInt(t)}):Object(j.jsx)(u.a,{to:"/"})}})]})]})}}]),a}(s.Component),x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,41)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),s(e),r(e),n(e),c(e)}))},f=Object(j.jsxs)(h.a,{children:[" ",Object(j.jsx)(O,{})," "]});n.a.render(f,document.getElementById("root")),x()}},[[40,1,2]]]);
//# sourceMappingURL=main.a5bfebfe.chunk.js.map